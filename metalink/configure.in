dnl Process this file with autoconf to produce a configure script.

dnl Boilerplate
AC_INIT(metalink, 0.3.2)
AC_CONFIG_SRCDIR(src/metalink.cc)
AM_INIT_AUTOMAKE

AC_PROG_CXX

dnl Library tests
AM_PATH_LIBGCRYPT

AX_BOOST_BASE()
AX_BOOST_REGEX()
AX_BOOST_PROGRAM_OPTIONS()
AX_BOOST_FILESYSTEM()


dnl Fix the boost m4 macro output
dnl Case switch thanks to greycat on freenode.net/bash
for VARNAME in BOOST_FILESYSTEM_LIB BOOST_PROGRAM_OPTIONS_LIB BOOST_REGEX_LIB; do
case "${!VARNAME}" in
	-l*) : ;;
	*)
${!VARNAME}="-l"${!VARNAME};;
esac
done

AC_OUTPUT(Makefile)


